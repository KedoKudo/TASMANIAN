cmake_minimum_required(VERSION 2.8)
project(Tasmanian_Examples)

include(@TasExportCMake@)

add_executable(example_sparse_grids example_sparse_grids.cpp)
add_executable(example_dream example_dream.cpp)

if (TARGET libtsg_static)
    target_link_libraries(example_sparse_grids libtsg_static)
    target_link_libraries(example_dream libtdr_static)
else()
    target_link_libraries(example_sparse_grids libtsg_shared)
    target_link_libraries(example_dream libtdr_shared)
endif()

if (TARGET libtasfor_static)
    enable_language(Fortran)
    add_executable(example_sparse_grids_fortran example_sparse_grids.f90)
    target_link_libraries(example_sparse_grids_fortran libtasfor_static)
elseif (TARGET libtasfor_shared)
    enable_language(Fortran)
    add_executable(example_sparse_grids_fortran example_sparse_grids.f90)
    target_link_libraries(example_sparse_grids_fortran libtasfor_shared)
endif()

# For consistency with the Tasmanian CXX flags
if ((${CMAKE_CXX_COMPILER_ID} STREQUAL "GNU") OR (${CMAKE_CXX_COMPILER_ID} STREQUAL "Clang"))
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3")
elseif (${CMAKE_CXX_COMPILER_ID} STREQUAL "Intel")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3 -mtune=native -diag-disable 11074 -diag-disable 11076 -Wall -Wextra -Wshadow -pedantic")
elseif (${CMAKE_CXX_COMPILER_ID} STREQUAL "MSVC")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /Ox /EHsc -D_SCL_SECURE_NO_WARNINGS")
endif()
